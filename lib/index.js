'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});
exports['default'] = plugin;
var path = require('path');
var glob = require('glob-all');
var manifest = require("../package.json");
var inflections = require('i')();
var model_files = glob.sync(path.join(__dirname, 'models') + '/**/*.js');

function plugin(brief) {
  var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

  return function modifier(briefcase) {
    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

    plugin.model_files.forEach(function (file) {
      return briefcase.loadModelDefinition(file);
    });
  };
}

plugin.model_files = model_files;

plugin.modelNames = function () {
  return model_files.map(function (file) {
    var basename = path.basename(file).replace('.js', '');
    return inflections.classify(basename);
  });
};

plugin.groupNames = function () {
  return plugin.modelNames().map(function (name) {
    return inflections.pluralize(name).toLowerCase();
  });
};

plugin.plugin_name = manifest.name.replace(/brief-plugins-/, '');
plugin.version = manifest.version;
plugin.description = manifest.description;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztxQkFNd0IsTUFBTTtBQU45QixJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUE7QUFDMUIsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFBO0FBQzlCLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFBO0FBQ3pDLElBQUksV0FBVyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFBO0FBQ2hDLElBQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUMsUUFBUSxDQUFDLEdBQUcsVUFBVSxDQUFDLENBQUE7O0FBRTFELFNBQVMsTUFBTSxDQUFDLEtBQUssRUFBYTtNQUFYLE9BQU8seURBQUMsRUFBRTs7QUFDOUMsU0FBTyxTQUFTLFFBQVEsQ0FBQyxTQUFTLEVBQWE7UUFBWCxPQUFPLHlEQUFDLEVBQUU7O0FBQzVDLFVBQU0sQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLFVBQUEsSUFBSTthQUFJLFNBQVMsQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUM7S0FBQSxDQUFDLENBQUE7R0FDeEUsQ0FBQTtDQUNGOztBQUVELE1BQU0sQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFBOztBQUVoQyxNQUFNLENBQUMsVUFBVSxHQUFHLFlBQVU7QUFDNUIsU0FBTyxXQUFXLENBQUMsR0FBRyxDQUFDLFVBQUEsSUFBSSxFQUFJO0FBQzdCLFFBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBQyxFQUFFLENBQUMsQ0FBQTtBQUNwRCxXQUFPLFdBQVcsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUE7R0FDdEMsQ0FBQyxDQUFBO0NBQ0gsQ0FBQTs7QUFFRCxNQUFNLENBQUMsVUFBVSxHQUFHLFlBQVU7QUFDNUIsU0FBTyxNQUFNLENBQUMsVUFBVSxFQUFFLENBQUMsR0FBRyxDQUFDLFVBQUEsSUFBSTtXQUFJLFdBQVcsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsV0FBVyxFQUFFO0dBQUEsQ0FBQyxDQUFBO0NBQ2xGLENBQUE7O0FBRUQsTUFBTSxDQUFDLFdBQVcsR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsRUFBQyxFQUFFLENBQUMsQ0FBQTtBQUMvRCxNQUFNLENBQUMsT0FBTyxHQUFHLFFBQVEsQ0FBQyxPQUFPLENBQUE7QUFDakMsTUFBTSxDQUFDLFdBQVcsR0FBRyxRQUFRLENBQUMsV0FBVyxDQUFBIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHBhdGggPSByZXF1aXJlKCdwYXRoJylcbnZhciBnbG9iID0gcmVxdWlyZSgnZ2xvYi1hbGwnKVxudmFyIG1hbmlmZXN0ID0gcmVxdWlyZShcIi4uL3BhY2thZ2UuanNvblwiKVxudmFyIGluZmxlY3Rpb25zID0gcmVxdWlyZSgnaScpKClcbmNvbnN0IG1vZGVsX2ZpbGVzID0gZ2xvYi5zeW5jKHBhdGguam9pbihfX2Rpcm5hbWUsJ21vZGVscycpICsgJy8qKi8qLmpzJylcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcGx1Z2luKGJyaWVmLCBvcHRpb25zPXt9KXtcbiAgcmV0dXJuIGZ1bmN0aW9uIG1vZGlmaWVyKGJyaWVmY2FzZSwgb3B0aW9ucz17fSl7XG4gICAgcGx1Z2luLm1vZGVsX2ZpbGVzLmZvckVhY2goZmlsZSA9PiBicmllZmNhc2UubG9hZE1vZGVsRGVmaW5pdGlvbihmaWxlKSlcbiAgfVxufVxuXG5wbHVnaW4ubW9kZWxfZmlsZXMgPSBtb2RlbF9maWxlc1xuXG5wbHVnaW4ubW9kZWxOYW1lcyA9IGZ1bmN0aW9uKCl7XG4gIHJldHVybiBtb2RlbF9maWxlcy5tYXAoZmlsZSA9PiB7XG4gICAgbGV0IGJhc2VuYW1lID0gcGF0aC5iYXNlbmFtZShmaWxlKS5yZXBsYWNlKCcuanMnLCcnKVxuICAgIHJldHVybiBpbmZsZWN0aW9ucy5jbGFzc2lmeShiYXNlbmFtZSlcbiAgfSlcbn1cblxucGx1Z2luLmdyb3VwTmFtZXMgPSBmdW5jdGlvbigpe1xuICByZXR1cm4gcGx1Z2luLm1vZGVsTmFtZXMoKS5tYXAobmFtZSA9PiBpbmZsZWN0aW9ucy5wbHVyYWxpemUobmFtZSkudG9Mb3dlckNhc2UoKSlcbn1cblxucGx1Z2luLnBsdWdpbl9uYW1lID0gbWFuaWZlc3QubmFtZS5yZXBsYWNlKC9icmllZi1wbHVnaW5zLS8sJycpXG5wbHVnaW4udmVyc2lvbiA9IG1hbmlmZXN0LnZlcnNpb25cbnBsdWdpbi5kZXNjcmlwdGlvbiA9IG1hbmlmZXN0LmRlc2NyaXB0aW9uXG4iXX0=